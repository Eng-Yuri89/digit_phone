{% extends 'front/homebase.html' %}
{% load crispy_forms_filters %}
{% load static %}
{% load i18n %}

{% block body %}

    <!-- breadcrumb start -->
    <div class="breadcrumb-section">
        <div class="container">
            <div class="row">
                <div class="col-sm-6">
                    <div class="page-title">
                        <h2>vendor dashboard</h2>
                    </div>
                </div>
                <div class="col-sm-6">
                    <nav aria-label="breadcrumb" class="theme-breadcrumb">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="{% url 'home:index' %}">Home</a></li>
                            <li class="breadcrumb-item active" aria-current="page">Update Image</li>
                        </ol>
                    </nav>
                </div>
            </div>
        </div>
    </div>
    <!-- breadcrumb End -->


    <!--  dashboard section start -->
    <section class="dashboard-section section-b-space">
        <div class="container">
            <div class="row">
                <div class="col-lg-3">
                    <form class="needs-validation" id="myform" enctype="multipart/form-data"
                          action="{% url 'user:UpdateImage' user.slug %}"
                          method="post">

                        {% csrf_token %}
                        <div class="error-message">
                            {% if messages %}
                                <ul class="messages">
                                    {% for message in messages %}
                                        <li {% if message.tags %}
                                            class="{{ message.tags }}"{% endif %}>{{ message }}</li>
                                    {% endfor %}
                                </ul>
                            {% endif %}
                            {% if forms.errors %}
                                {% for error_field, error_message in forms.errors.items %}
                                    <div class="alert alert-danger">
                                        {{ error_field|striptags }}: {{ error_message|striptags }}
                                        <strong>{{ error|escape }}</strong>
                                    </div>
                                {% endfor %}

                            {% endif %}
                        </div>
                        <div class="dashboard-sidebar">
                            <div class="profile-top">
                                <div class="metro-section portfolio-section ratio_asos">


                                    <div class="product-box">
                                        <div class="img-wrapper">
                                            <div class="front">
                                                {% if user.image %}
                                                    <p><img src="{{ user.image.url }}" alt="" id="blah"
                                                            class="img-fluid"></p>
                                                {% else %}
                                                    <p></p>
                                                {% endif %}
                                            </div>
                                            <div class="cart-info cart-wrap">
                                                <button title="Add to cart"><i class="ti-settings"></i></button>
                                                <a href="{% url 'user:UpdateImage' user.slug %}"
                                                   title="Add to Wishlist"><i class="ti-reload"
                                                                              aria-hidden="true"></i></a>

                                            </div>
                                        </div>

                                    </div>
                                    <div class="row ">
                                        <input type="file" required name="image"
                                               onchange="document.getElementById('blah').src = window.URL.createObjectURL(this.files[0])">
                                        <button class="btn btn-sm btn-solid" type="submit">Save Image</button>


                                    </div>

                                </div>


                                <div class="profile-detail">
                                    <h5>{{ user.first_name }}</h5>
                                    <h6>{{ user.email }}</h6>
                                </div>
                            </div>
                            <div class="faq-tab">
                                <ul class="nav nav-tabs" id="top-tab" role="tablist">
                                    <li class="nav-item"><a data-bs-toggle="tab" class="nav-link active"
                                                            href="#dashboard">{% translate 'dashboard' %}</a></li>
                                    <li class="nav-item"><a data-bs-toggle="tab" class="nav-link "
                                                            href="#products">{% translate 'Complated Order' %}</a>
                                    </li>
                                    <li class="nav-item"><a data-bs-toggle="tab" class="nav-link "
                                                            href="#orders">{% translate 'Canceled Order' %}</a>
                                    </li>
                                    <li class="nav-item"><a data-bs-toggle="tab" class="nav-link "
                                                            href="#profile">{% translate 'profile' %}</a>
                                    </li>
                                    <li class="nav-item"><a data-bs-toggle="tab" class="nav-link "
                                                            href="#address">{% translate 'Address' %}</a>
                                    </li>
                                    <li class="nav-item"><a data-bs-toggle="tab" class="nav-link"
                                                            href="#settings">{% translate 'settings' %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link"
                                           href="{% url 'user:CustomerLogout' %}"><span>{% translate 'Log Out' %}</span></a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="col-lg-9">
                    <div class="faq-content tab-content" id="top-tabContent">
                        <div class="tab-pane fade show active " id="dashboard">
                            <div class="counter-section">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="counter-box">
                                            <img src="{% static 'assets/' %}images/icon/dashboard/order.png"
                                                 class="img-fluid">
                                            <div>
                                                <h3> {{ customer_orders_count }}</h3>

                                                <h5>{% translate 'total orders' %}</h5>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="counter-box">
                                            <img src="{% static 'assets/' %}images/icon/dashboard/sale.png"
                                                 class="img-fluid">
                                            <div>

                                                <h3>{{ order_complete_count }}</h3>

                                                <h5> {% translate 'completed' %}</h5>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="counter-box">
                                            <img src="{% static 'assets/' %}images/icon/dashboard/homework.png"
                                                 class="img-fluid">
                                            <div>
                                                <h3>{{ order_pending_count }}</h3>
                                                <h5> {% translate 'pending' %}</h5>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-7">
                                    <div class="card">
                                        <div class="card-body">
                                            <div id="chart"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-5">
                                    <div class="card">
                                        <div class="card-body">
                                            <div id="chart-order"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="card dashboard-table">
                                        <div class="card-body">
                                            <h3> {% translate ' completed orders' %}</h3>
                                            <table class="table mb-0">
                                                <thead>
                                                <tr>
                                                    <th scope="col">{% translate 'image' %}</th>
                                                    <th scope="col">{% translate 'product name' %}</th>
                                                    <th scope="col">{% translate 'price' %}</th>
                                                    <th scope="col">{% translate 'status' %}</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                {% for rc in order_complete %}
                                                    <tr>

                                                    <th scope="row"><img
                                                            src="{{ rc.media.image.url }}"
                                                            class="blur-up lazyloaded"></th>
                                                    <td>{{ rc.product.title|truncatechars:9 }}</td>
                                                    <td>{{ rc.order.amount }}{{ active_currency }}</td>
                                                    <td>{{ rc.order.status }}</td>
                                                {% endfor %}
                                                </tr>

                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="card dashboard-table">
                                        <div class="card-body">
                                            <h3>recent orders</h3>
                                            <table class="table mb-0">
                                                <thead>
                                                <tr>
                                                    <th scope="col">{% translate 'order id' %}</th>
                                                    <th scope="col">{% translate 'product details' %}</th>
                                                    <th scope="col">{% translate 'status' %}</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                {% for rp in order_pending %}
                                                    <tr>

                                                    <th scope="row">#{{ rp.tracking }}</th>
                                                    <td>{{ rp.product.title|truncatechars:9 }}</td>
                                                    <td>{{ rp.status }}</td>
                                                {% endfor %}
                                                </tr>


                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                        <div class="tab-pane fade  " id="products">
                            <div class="row">
                                <div class="col-12">
                                    <div class="card dashboard-table mt-0">
                                        <div class="card-body table-responsive-md">
                                            <div class="top-sec">
                                                <h3>{% translate 'all orders' %}</h3>

                                            </div>
                                            <table class="table mb-0">
                                                <thead>
                                                <tr>
                                                    <th scope="col">{% translate 'image' %}</th>
                                                    <th scope="col">{% translate 'product name' %}</th>
                                                    <th scope="col">{% translate 'category' %}</th>
                                                    <th scope="col">{% translate 'price' %}</th>
                                                    <th scope="col">{% translate 'stock' %}</th>
                                                    <th scope="col">{% translate 'sales' %}</th>
                                                    <th scope="col">{% translate 'purchase/invoice' %}</th>
                                                </tr>
                                                </thead>

                                                <tbody>
                                                {% for rp in order_complete %}

                                                    <tr>
                                                        <th scope="row"><img
                                                                src="{{ rp.media.image.url }}"
                                                                class="blur-up lazyloaded"></th>
                                                        <td>{{ rp.product.title|truncatechars:9 }}</td>
                                                        <td>{{ rp.product.category }}</td>
                                                        <td>${{ rp.product.final_price }}{{ active_currency }}</td>
                                                        <td>{{ rp.product.quantity }}</td>
                                                        <td>{{ rp.orders_complete.vendor.title }}</td>
                                                        <td>
                                                            <a href="{% url 'sales:AddToCart' rp.product.id %}"><i
                                                                    class="fa fa-pencil-square-o me-1"
                                                                    aria-hidden="true"></i></a>

                                                            <a href="{% url 'invoice:CustomerViewDocumentInvoice' rp.invoice.slug %}"><i
                                                                    class="fa fa-print  ms-1"
                                                                    aria-hidden="true"></i></a>
                                                        </td>
                                                    </tr>{% endfor %}
                                                </tbody>

                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="orders">
                            <div class="row">
                                <div class="col-12">
                                    <div class="card dashboard-table mt-0">
                                        <div class="card-body table-responsive-sm">
                                            <table class="table mb-0">
                                                <thead>
                                                <tr>
                                                    <th scope="col">{% translate 'order id' %}</th>
                                                    <th scope="col">{% translate 'product details' %}</th>
                                                    <th scope="col">{% translate 'status' %}</th>
                                                    <th scope="col">{% translate 'price' %}</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr>
                                                    <th scope="row">#125021</th>
                                                    <td>neck velvet dress</td>
                                                    <td>shipped</td>
                                                    <td>$205</td>
                                                </tr>

                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane fade   " id="profile">
                            <div class="row">
                                <div class="col-12">
                                    <div class="card mt-0">
                                        <div class="card-body">
                                            <div class="dashboard-box">
                                                <div class="dashboard-title row">
                                                    <h4 class="col-md-4">{% translate 'profile' %}</h4>
                                                    <div class="col-md-6 pull-right">

                                                        <a href="{% url 'user:UpdateProfile' user.slug %}"
                                                           class="btn btn-solid">{% translate 'Update Profile' %}</a>
                                                    </div>
                                                </div>
                                                <div class="dashboard-detail">
                                                    <ul>
                                                        <li>
                                                            <div class="details">
                                                                <div class="left">
                                                                    <h6>{% translate 'First name' %}</h6>
                                                                </div>
                                                                <div class="right">
                                                                    <h6>{{ user.first_name }}</h6>
                                                                </div>
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div class="details">
                                                                <div class="left">
                                                                    <h6>{% translate 'email address' %}</h6>
                                                                </div>
                                                                <div class="right">
                                                                    <h6>{{ user.email }}</h6>
                                                                </div>
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div class="details">
                                                                <div class="left">
                                                                    <h6>{% translate 'Mobile Number' %}</h6>
                                                                </div>
                                                                <div class="right">
                                                                    <h6>{{ user.phone }}</h6>
                                                                </div>
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div class="details">
                                                                <div class="left">
                                                                    <h6>{% translate 'Facebook' %}</h6>
                                                                </div>
                                                                <div class="right">
                                                                    <h6>{{ user.facebook }}</h6>
                                                                </div>
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div class="details">
                                                                <div class="left">
                                                                    <h6>{% translate 'instagram' %}</h6>
                                                                </div>
                                                                <div class="right">
                                                                    <h6>{{ user.instagram }}</h6>
                                                                </div>
                                                            </div>
                                                        </li>
                                                        <li>
                                                            <div class="details">
                                                                <div class="left">
                                                                    <h6>{% translate 'Twitter' %}</h6>
                                                                </div>
                                                                <div class="right">
                                                                    <h6>{{ user.twitter }}</h6>
                                                                </div>
                                                            </div>
                                                        </li>

                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane fade  " id="address">

                            <div class="row">
                                <div class="col-12">
                                    <div class="card dashboard-table mt-0">
                                        <div class="card-body table-responsive-md">
                                            <div class="top-sec">
                                                <h3>{% translate 'all Address' %}</h3>
                                                <a data-url="{% url 'user:CreateAddress' %}"
                                                   class="btn btn-sm btn-solid  js-create-book">{% translate 'Add New Address' %}</a>
                                            </div>
                                            <table class="table mb-0 table" id="book-table">
                                                <thead>
                                                <tr>
                                                    <th scope="col">{% translate 'Location Type' %}</th>
                                                    <th scope="col">{% translate 'Address Title' %}</th>
                                                    <th scope="col">{% translate 'First Name' %}</th>
                                                    <th scope="col">{% translate 'Last Name' %}</th>
                                                    <th scope="col">{% translate 'Governorate' %}</th>
                                                    <th scope="col">{% translate 'City' %}</th>
                                                    <th scope="col">{% translate 'Phone' %}</th>
                                                    <th scope="col">{% translate 'edit/delete' %}</th>
                                                </tr>
                                                </thead>

                                                <tbody>

                                                {% include 'users/includes/partial_book_list.html' %}


                                                </tbody>

                                            </table>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal fade" id="modal-book">
                                    <div class="modal-dialog">
                                        <div class="modal-content">

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="settings">

                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="card dashboard-table">
                                        <div class="card-body">
                                            <h3>Social Login</h3>
                                            <table class="table mb-0">

                                                <tbody>

                                                <h3>GitHub</h3>
                                                {% if github_login %}
                                                    <p>Connected as <a
                                                            href="https://github.com/{{ github_login.extra_data.login }}/"
                                                            target="_blank">{{ github_login.extra_data.login }}</a></p>
                                                    {% if can_disconnect %}
                                                        <form method="post"
                                                              action="{% url 'social:disconnect' 'github' %}">
                                                            {% csrf_token %}
                                                            <button type="submit">Disconnect from GitHub</button>
                                                        </form>
                                                    {% else %}
                                                        <button type="button" disabled>Disconnect from GitHub</button>
                                                        <p style="color: red">You must <a href="{% url 'password' %}">define
                                                            a password</a> for your account before disconnecting from
                                                            Github.</p>
                                                    {% endif %}
                                                {% else %}
                                                    <a href="{% url 'social:begin' 'github' %}">Connect to GitHub</a>
                                                {% endif %}

                                                <h3>Twitter</h3>
                                                {% if twitter_login %}
                                                    <p>Connected as <a
                                                            href="https://twitter.com/{{ twitter_login.extra_data.access_token.screen_name }}/"
                                                            target="_blank">@{{ twitter_login.extra_data.access_token.screen_name }}</a>
                                                    </p>
                                                    {% if can_disconnect %}
                                                        <form method="post"
                                                              action="{% url 'social:disconnect' 'twitter' %}">
                                                            {% csrf_token %}
                                                            <button type="submit">Disconnect from Twitter</button>
                                                        </form>
                                                    {% else %}
                                                        <button type="button" disabled>Disconnect from Twitter</button>
                                                        <p style="color: red">You must <a href="{% url 'password' %}">define
                                                            a password</a> for your account before disconnecting from
                                                            Twitter.</p>
                                                    {% endif %}
                                                {% else %}
                                                    <a href="{% url 'social:begin' 'twitter' %}">Connect to Twitter</a>
                                                {% endif %}

                                                <h3>Facebook</h3>
                                                {% if facebook_login %}
                                                    <p>Connected as <a
                                                            href="https://facebook.com/{{ facebook_login.extra_data.id }}/"
                                                            target="_blank">{{ facebook_login.extra_data.id }}</a></p>
                                                    {% if can_disconnect %}
                                                        <form method="post"
                                                              action="{% url 'social:disconnect' 'facebook' %}">
                                                            {% csrf_token %}
                                                            <button type="submit">Disconnect from Facebook</button>
                                                        </form>
                                                    {% else %}
                                                        <button type="button" disabled>Disconnect from Facebook</button>
                                                        <p style="color: red">You must <a href="{% url 'password' %}">define
                                                            a password</a> for your account before disconnecting from
                                                            Facebook.</p>
                                                    {% endif %}
                                                {% else %}
                                                    <a href="{% url 'social:begin' 'facebook' %}">Connect to
                                                        Facebook</a>
                                                {% endif %}


                                            </table>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="card mt-0">
                                        <div class="card-body">
                                            <div class="dashboard-box">
                                                <div class="dashboard-title">
                                                    <h4>settings</h4>
                                                </div>

                                                <div class="dashboard-detail">
                                                    <div class="account-setting">
                                                        <h5>Notifications</h5>
                                                        <div class="row">
                                                            <div class="col">
                                                                <div class="form-check">
                                                                    <input class="radio_animated form-check-input"
                                                                           type="radio" name="exampleRadios"
                                                                           id="exampleRadios1" value="option1"
                                                                           checked>
                                                                    <label class="form-check-label"
                                                                           for="exampleRadios1">
                                                                        Allow Desktop Notifications
                                                                    </label>
                                                                </div>
                                                                <div class="form-check">
                                                                    <input class="radio_animated form-check-input"
                                                                           type="radio" name="exampleRadios"
                                                                           id="exampleRadios2" value="option2">
                                                                    <label class="form-check-label"
                                                                           for="exampleRadios2">
                                                                        Enable Notifications
                                                                    </label>
                                                                </div>
                                                                <div class="form-check">
                                                                    <input class="radio_animated form-check-input"
                                                                           type="radio" name="exampleRadios"
                                                                           id="exampleRadios3" value="option3">
                                                                    <label class="form-check-label"
                                                                           for="exampleRadios3">
                                                                        Get notification for my own activity
                                                                    </label>
                                                                </div>
                                                                <div class="form-check">
                                                                    <input class="radio_animated form-check-input"
                                                                           type="radio" name="exampleRadios"
                                                                           id="exampleRadios4" value="option4">
                                                                    <label class="form-check-label"
                                                                           for="exampleRadios4">
                                                                        DND
                                                                    </label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="account-setting">
                                                        <h5>deactivate account</h5>
                                                        <div class="row">
                                                            <div class="col">
                                                                <div class="form-check">
                                                                    <input class="radio_animated form-check-input"
                                                                           type="radio" name="exampleRadios1"
                                                                           id="exampleRadios4" value="option4"
                                                                           checked>
                                                                    <label class="form-check-label"
                                                                           for="exampleRadios4">
                                                                        I have a privacy concern
                                                                    </label>
                                                                </div>
                                                                <div class="form-check">
                                                                    <input class="radio_animated form-check-input"
                                                                           type="radio" name="exampleRadios1"
                                                                           id="exampleRadios5" value="option5">
                                                                    <label class="form-check-label"
                                                                           for="exampleRadios5">
                                                                        This is temporary
                                                                    </label>
                                                                </div>
                                                                <div class="form-check">
                                                                    <input class="radio_animated form-check-input"
                                                                           type="radio" name="exampleRadios1"
                                                                           id="exampleRadios6" value="option6">
                                                                    <label class="form-check-label"
                                                                           for="exampleRadios6">
                                                                        other
                                                                    </label>
                                                                </div>
                                                                <button type="button"
                                                                        class="btn btn-solid btn-xs">Deactivate
                                                                    Account
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="account-setting">
                                                        <h5>Delete account</h5>
                                                        <div class="row">
                                                            <div class="col">
                                                                <div class="form-check">
                                                                    <input class="radio_animated form-check-input"
                                                                           type="radio" name="exampleRadios3"
                                                                           id="exampleRadios7" value="option7"
                                                                           checked>
                                                                    <label class="form-check-label"
                                                                           for="exampleRadios7">
                                                                        No longer usable
                                                                    </label>
                                                                </div>
                                                                <div class="form-check">
                                                                    <input class="radio_animated form-check-input"
                                                                           type="radio" name="exampleRadios3"
                                                                           id="exampleRadios8" value="option8">
                                                                    <label class="form-check-label"
                                                                           for="exampleRadios8">
                                                                        Want to switch on other account
                                                                    </label>
                                                                </div>
                                                                <div class="form-check">
                                                                    <input class="radio_animated form-check-input"
                                                                           type="radio" name="exampleRadios3"
                                                                           id="exampleRadios9" value="option9">
                                                                    <label class="form-check-label"
                                                                           for="exampleRadios9">
                                                                        other
                                                                    </label>
                                                                </div>
                                                                <button type="button"
                                                                        class="btn btn-solid btn-xs">Delete Account
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>


                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </section>
    <!--  dashboard section end -->





{% endblock %}



{% block custom_js %}

{% endblock custom_js %}


{% block foot %} {% include 'front/footer.html' %}  {% endblock %}
{% block js %} {% include 'front/js.html' %}  {% endblock %}